# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –≤ Amvera Cloud

## üöÄ –ê–∫—Ç—É–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Amvera (–Ω–æ—è–±—Ä—å 2025)

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- –ê–∫–∫–∞—É–Ω—Ç –≤ [Amvera Cloud](https://amvera.ru)
- –ü–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã–π GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- –ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ API –∫–ª—é—á–∏ KuCoin –∏ —Ç–æ–∫–µ–Ω Telegram –±–æ—Ç–∞

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤

#### Backend —Å–µ—Ä–≤–∏—Å
1. –í–æ–π–¥–∏—Ç–µ –≤ Amvera Cloud
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
   - **–¢–∏–ø:** Node.js Server
   - **–ò–º—è:** `kucoinbot-backend-alex69288`
   - **–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** –í–∞—à GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
   - **–ü—É—Ç—å:** `backend/`
3. Amvera –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∏—Ç `amvera.yaml`

#### Frontend —Å–µ—Ä–≤–∏—Å  
1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
   - **–¢–∏–ø:** Node.js Browser
   - **–ò–º—è:** `kucoinbot-frontend-alex69288`
   - **–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** –¢–æ—Ç –∂–µ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
   - **–ü—É—Ç—å:** `frontend/`
2. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è:
   - `VITE_API_URL=https://kucoinbot-backend-alex69288.amvera.io/api`

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è Backend

–í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö backend —Å–µ—Ä–≤–∏—Å–∞ –¥–æ–±–∞–≤—å—Ç–µ **–í–°–ï** —ç—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ:**
```
KUCOIN_API_KEY=–≤–∞—à_–∫–ª—é—á_kucoin
KUCOIN_API_SECRET=–≤–∞—à_—Å–µ–∫—Ä–µ—Ç_kucoin  
KUCOIN_API_PASSPHRASE=–≤–∞—à_–ø–∞—Ä–æ–ª—å_kucoin
TELEGRAM_BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞
FRONTEND_URL=https://kucoinbot-frontend-alex69288.amvera.io
BACKEND_URL=https://kucoinbot-backend-alex69288.amvera.io
NODE_ENV=production
PORT=8080
```

**–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–¥–ª—è Telegram):**
```
TELEGRAM_CHAT_ID=–≤–∞—à_chat_id
WEBAPP_URL=https://kucoinbot-frontend-alex69288.amvera.io
```

**–í–ê–ñ–ù–û:** –ù–ï —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ `REDIS_URL` - Redis —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ.

### –®–∞–≥ 3: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

1. **–°–Ω–∞—á–∞–ª–∞ —Ä–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ Backend:**
   - –ù–∞–∂–º–∏—Ç–µ "–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å" –≤ backend —Å–µ—Ä–≤–∏—Å–µ
   - –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–±–æ—Ä–∫–∏ (2-3 –º–∏–Ω—É—Ç—ã)

2. **–ó–∞—Ç–µ–º —Ä–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ Frontend:**
   - –ù–∞–∂–º–∏—Ç–µ "–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å" –≤ frontend —Å–µ—Ä–≤–∏—Å–µ  
   - –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–±–æ—Ä–∫–∏ (1-2 –º–∏–Ω—É—Ç—ã)

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. **Backend:** –û—Ç–∫—Ä–æ–π—Ç–µ `https://kucoinbot-backend-alex69288.amvera.io/health`
2. **Frontend:** –û—Ç–∫—Ä–æ–π—Ç–µ `https://kucoinbot-frontend-alex69288.amvera.io`
3. **–õ–æ–≥–∏:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –æ–±–æ–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫

### –®–∞–≥ 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram –±–æ—Ç–∞

–í BotFather —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ:
- **Web App URL:** `https://kucoinbot-frontend-alex69288.amvera.io`

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ—Ä—Ç–æ–≤

**–í–∞–∂–Ω–æ –¥–ª—è Telegram webhook:**
- **–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ—Ä—Ç (containerPort)**: 8080 - –ø–æ—Ä—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–ª—É—à–∞–µ—Ç –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- **–í–Ω–µ—à–Ω–∏–π –ø–æ—Ä—Ç (port)**: 443 - –ø–æ—Ä—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º Amvera –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç —Ç—Ä–∞—Ñ–∏–∫ (HTTPS)
- **PORT –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è**: 8080 - –¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å containerPort
- **BACKEND_URL**: `https://kucoinbot-backend-alex69288.amvera.io` (–±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è –ø–æ—Ä—Ç–∞, –ø–æ—Å–∫–æ–ª—å–∫—É 443 –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–µ—Ç—Å—è –¥–ª—è HTTPS)

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç Telegram –ø—Ä–∏–Ω–∏–º–∞—Ç—å webhook –Ω–∞ –ø–æ—Ä—Ç—É 443, –∏–∑–±–µ–≥–∞—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Å —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ –ø–æ—Ä—Ç–∞–º–∏.

## üö® –¢–µ–∫—É—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ –∏—Ö —Ä–µ—à–µ–Ω–∏–µ

### Backend –ø—Ä–æ–±–ª–µ–º—ã (–Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –ª–æ–≥–æ–≤)

**–°–∏–º–ø—Ç–æ–º—ã:**
- ‚úÖ Redis –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç localhost)
- ‚úÖ Webhook —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –Ω–∞ https://kucoinbot-backend-alex69288.amvera.io
- ‚ùå –û—à–∏–±–∫–∞ "Protocol error, got "H" as reply type byte" (–∏–∑-–∑–∞ REDIS_URL)
- ‚ùå –û—à–∏–±–∫–∞ "listen EADDRINUSE: address already in use 0.0.0.0:5000"

**–†–µ—à–µ–Ω–∏–µ:**
1. **–£–¥–∞–ª–∏—Ç–µ REDIS_URL** –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è backend —Å–µ—Ä–≤–∏—Å–∞ –≤ Amvera
2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ BACKEND_URL** = `https://kucoinbot-backend-alex69288.amvera.io` (–±–µ–∑ —Å–ª—ç—à–∞ –≤ –∫–æ–Ω—Ü–µ!)
3. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ** backend —Å–µ—Ä–≤–∏—Å
4. **–ü–æ–¥–æ–∂–¥–∏—Ç–µ 2-3 –º–∏–Ω—É—Ç—ã** –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –ø–µ—Ä–µ–¥ –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ª–æ–≥–æ–≤

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ –∫–æ–¥–µ (v0.0.8):**
- –î–æ–±–∞–≤–ª–µ–Ω try-catch –±–ª–æ–∫ –≤–æ–∫—Ä—É–≥ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å –∫–æ–¥–æ–º 1
- –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–µ—Ä–∞
- –î–æ–±–∞–≤–ª–µ–Ω–∞ graceful shutdown –ª–æ–≥–∏–∫–∞

### –ü–æ—Ä—è–¥–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

1. –ó–∞–π–¥–∏—Ç–µ –≤ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Amvera
2. –í—ã–±–µ—Ä–∏—Ç–µ backend —Å–µ—Ä–≤–∏—Å (kucoinbot-backend-alex69288)
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è"
4. **–£–¥–∞–ª–∏—Ç–µ** –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `REDIS_URL` (–µ—Å–ª–∏ –æ–Ω–∞ –µ—Å—Ç—å)
5. **–î–æ–±–∞–≤—å—Ç–µ/–æ–±–Ω–æ–≤–∏—Ç–µ** –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `BACKEND_URL` —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º `https://kucoinbot-backend-alex69288.amvera.io` (–±–µ–∑ —Å–ª—ç—à–∞ –≤ –∫–æ–Ω—Ü–µ!)
6. **–î–æ–±–∞–≤—å—Ç–µ/–æ–±–Ω–æ–≤–∏—Ç–µ** –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `FRONTEND_URL` —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º `https://kucoinbot-frontend-alex69288.amvera.io`
7. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
8. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å
9. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —á–µ—Ä–µ–∑ 2-3 –º–∏–Ω—É—Ç—ã

## –ë—ã—Å—Ç—Ä–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### 1. Backend
1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ Amvera
2. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø: **Node.js Server**
3. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
4. –£–∫–∞–∂–∏—Ç–µ –ø—É—Ç—å: `backend/`
5. –§–∞–π–ª `amvera.yaml` –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω
6. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### 2. Frontend
1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ Amvera
2. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø: **Node.js Browser**
3. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ —Ç–æ—Ç –∂–µ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
4. –£–∫–∞–∂–∏—Ç–µ –ø—É—Ç—å: `frontend/`
5. –§–∞–π–ª `amvera.yaml` –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω
6. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é: `VITE_API_URL=https://kucoinbot-backend-alex69288.amvera.io/api`

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –î–ª—è Node.js Browser Amvera –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –í—ã–ø–æ–ª–Ω—è–µ—Ç `npm run build`
- –°–ª—É–∂–∏—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã —á–µ—Ä–µ–∑ Nginx –Ω–∞ –ø–æ—Ä—Ç—É 80

### 3. Redis (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –¥–ª—è –æ—á–µ—Ä–µ–¥–µ–π)
**–í–ù–ò–ú–ê–ù–ò–ï:** –í —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ Redis –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è –±–∞–∑–æ–≤–æ–π —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞. –ï—Å–ª–∏ –Ω—É–∂–Ω—ã –æ—á–µ—Ä–µ–¥–∏ - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Docker —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ.

–ï—Å–ª–∏ –≤—Å–µ –∂–µ —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Redis –≤ Amvera:
1. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–µ–¥–Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å "Redis"
2. –¢–∞—Ä–∏—Ñ "–ù–∞—á–∞–ª—å–Ω—ã–π" –∏–ª–∏ –≤—ã—à–µ
3. **persistenceMount**: `/data` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö Redis)
4. **REDIS_ARGS**: `--requirepass –≤–∞—à_–ø–∞—Ä–æ–ª—å` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏!)
5. –í backend –ù–ï –¥–æ–±–∞–≤–ª—è–π—Ç–µ `REDIS_URL` - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ localhost

**–ü—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Redis —Å–µ—Ä–≤–∏—Å–∞:**
- persistenceMount: `/data`
- REDIS_ARGS: `--requirepass mySecurePass123`

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram –±–æ—Ç–∞
- –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –±–æ—Ç–∞ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Web App URL: `https://your-frontend-app.amvera.io`
- –ë–æ—Ç –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è Backend

**–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–≤—Å–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã!):**
- `KUCOIN_API_KEY` - API –∫–ª—é—á KuCoin
- `KUCOIN_API_SECRET` - –°–µ–∫—Ä–µ—Ç KuCoin
- `KUCOIN_API_PASSPHRASE` - –ü–∞—Ä–æ–ª—å KuCoin
- `TELEGRAM_BOT_TOKEN` - –¢–æ–∫–µ–Ω Telegram –±–æ—Ç–∞
- `FRONTEND_URL` - URL —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://kucoinbot-frontend-alex69288.amvera.io`)
- `BACKEND_URL` - **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!** URL –±—ç–∫–µ–Ω–¥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://kucoinbot-backend-alex69288.amvera.io`)
- `NODE_ENV` - **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!** —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–æ–≥–æ –≤ `production`
- `PORT` - **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!** —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–∞ `8080` (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ—Ä—Ç, containerPort; –≤–Ω–µ—à–Ω–∏–π –ø–æ—Ä—Ç 443 –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ amvera.yaml)

**–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ (–¥–ª—è Redis):**
- `REDIS_PASSWORD` - –ü–∞—Ä–æ–ª—å Redis (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

**–ö–†–ò–¢–ò–ß–ù–û: –ù–ï —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ `REDIS_URL` –≤ Amvera!**

## üö® –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º –≤ Amvera

–ï—Å–ª–∏ –≤ –ª–æ–≥–∞—Ö –≤—ã –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫–∏, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Amvera
1. –ó–∞–π–¥–∏—Ç–µ –≤ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Amvera
2. –û—Ç–∫—Ä–æ–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ backend —Å–µ—Ä–≤–∏—Å–∞
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è"
4. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:**
   - `NODE_ENV=production`
   - `PORT=8080` (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ—Ä—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è; –≤–Ω–µ—à–Ω–∏–π –ø–æ—Ä—Ç 443 –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ amvera.yaml)
   - `BACKEND_URL=https://kucoinbot-backend-alex69288.amvera.io` (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π URL)
   - `FRONTEND_URL=https://kucoinbot-frontend-alex69288.amvera.io`
5. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ù–ï —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞:** `REDIS_URL`

### –®–∞–≥ 2: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å
1. –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ backend —Å–µ—Ä–≤–∏—Å –≤ Amvera
2. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 1-2 –º–∏–Ω—É—Ç—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
–í –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è:
```
üîß Environment: NODE_ENV=production, isProduction=true
üîß URLs: FRONTEND_URL=https://..., BACKEND_URL=https://...
üîß Bot Token: present
ü§ñ Telegram bot mode: webhook
üîó Setting webhook to backend URL: https://...
‚úÖ Telegram webhook set to: https://kucoinbot-backend-.../bot...
üîß Redis config: NODE_ENV=production, REDIS_URL=not set
```

## –î–æ–º–µ–Ω—ã

–ü–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:
- Backend: `https://kucoinbot-backend-<username>.amvera.io`
- Frontend: `https://kucoinbot-frontend-<username>.amvera.io`

–û–±–Ω–æ–≤–∏—Ç–µ `WEBAPP_URL` –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è backend.

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –û—à–∏–±–∫–∞ —Å–±–æ—Ä–∫–∏ Frontend
–ï—Å–ª–∏ —Å–±–æ—Ä–∫–∞ frontend –ø–∞–¥–∞–µ—Ç, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. **–¢–∏–ø —Å–µ—Ä–≤–∏—Å–∞**: –î–æ–ª–∂–µ–Ω –±—ã—Ç—å **"Node.js Browser"**, –Ω–µ "Node.js Server"
2. **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**: `VITE_API_URL` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://your-backend-app.amvera.io/api`)
3. **–ü—É—Ç—å –∫ –ø—Ä–æ–µ–∫—Ç—É**: –£–∫–∞–∂–∏—Ç–µ `frontend/` –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
4. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `amvera.yaml` —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è browser environment

### –û—à–∏–±–∫–∞ —Å–±–æ—Ä–∫–∏ Backend
–ï—Å–ª–∏ —Å–±–æ—Ä–∫–∞ backend –ø–∞–¥–∞–µ—Ç, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. **–¢–∏–ø —Å–µ—Ä–≤–∏—Å–∞**: –î–æ–ª–∂–µ–Ω –±—ã—Ç—å **"Node.js Server"**
2. **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**: –í—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
3. **–ü—É—Ç—å –∫ –ø—Ä–æ–µ–∫—Ç—É**: –£–∫–∞–∂–∏—Ç–µ `backend/` –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
4. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `amvera.yaml` —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è server environment

### Redis –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
–ï—Å–ª–∏ Redis –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `REDIS_URL` –∏ `REDIS_PASSWORD`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Redis —Å–µ—Ä–≤–∏—Å –∑–∞–ø—É—â–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Redis —Å–µ—Ä–≤–∏—Å–∞
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `persistenceMount: /data` –∏ `REDIS_ARGS: --requirepass –≤–∞—à_–ø–∞—Ä–æ–ª—å` –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ —Ä–∞–∑–¥–µ–ª–µ "–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è" —Å–µ—Ä–≤–∏—Å–∞
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –ø–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
–ü–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ backend —Å–µ—Ä–≤–∏—Å–∞:
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "–õ–æ–≥–∏" –≤–∞—à–µ–≥–æ backend —Å–µ—Ä–≤–∏—Å–∞ –≤ Amvera
2. –ò—â–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è:
   - `üîß Environment: NODE_ENV=production, isProduction=true`
   - `üîß URLs: FRONTEND_URL=https://..., BACKEND_URL=https://...`
   - `üîß Bot Token: present`
   - `ü§ñ Telegram bot mode: webhook`
   - `ÔøΩ Setting webhook to backend URL: https://...`
   - `‚úÖ Telegram webhook set to: https://kucoinbot-backend-.../bot...`
   - `ÔøΩüîß Redis config: NODE_ENV=production, REDIS_URL=not set`
   - `üîß Final Redis config: {"host":"127.0.0.1","port":6379,"hasPassword":true/false}`

**–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –¥—Ä—É–≥–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è:**
- `NODE_ENV=undefined` ‚Üí –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `NODE_ENV=production`
- `BACKEND_URL=undefined` ‚Üí –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ URL –≤–∞—à–µ–≥–æ backend —Å–µ—Ä–≤–∏—Å–∞
- `FRONTEND_URL=http://localhost:3000` ‚Üí –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ URL –≤–∞—à–µ–≥–æ frontend —Å–µ—Ä–≤–∏—Å–∞: `https://kucoinbot-frontend-alex69288.amvera.io:80`
- `ü§ñ Telegram bot mode: polling` ‚Üí –ü—Ä–æ–≤–µ—Ä—å—Ç–µ NODE_ENV
- `üîß Redis config: REDIS_URL=present` ‚Üí –£–¥–∞–ª–∏—Ç–µ REDIS_URL –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
- Webhook URL —Å–æ–¥–µ—Ä–∂–∏—Ç `localhost` ‚Üí –ü—Ä–æ–≤–µ—Ä—å—Ç–µ BACKEND_URL

### –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ –∏—Ö —Ä–µ—à–µ–Ω–∏—è

#### ‚ùå –û—à–∏–±–∫–∞ "409 Conflict: terminated by other getUpdates request"
**–ü—Ä–∏—á–∏–Ω–∞:** –ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç polling –≤–º–µ—Å—Ç–æ webhook
**–†–µ—à–µ–Ω–∏–µ:**
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `NODE_ENV=production`
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `BACKEND_URL` –Ω–∞ URL –≤–∞—à–µ–≥–æ backend —Å–µ—Ä–≤–∏—Å–∞
3. –£–¥–∞–ª–∏—Ç–µ `REDIS_URL` –µ—Å–ª–∏ –æ–Ω —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å

#### ‚ùå –û—à–∏–±–∫–∞ "Protocol error, got "H" as reply type byte"
**–ü—Ä–∏—á–∏–Ω–∞:** REDIS_URL —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ HTTP endpoint –≤–º–µ—Å—Ç–æ Redis
**–†–µ—à–µ–Ω–∏–µ:** –£–¥–∞–ª–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `REDIS_URL` –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Å–µ—Ä–≤–∏—Å–∞

#### ‚ùå –û—à–∏–±–∫–∞ "listen EADDRINUSE: address already in use 0.0.0.0:443"
**–ü—Ä–∏—á–∏–Ω–∞:** –ü–æ—Ä—Ç —É–∂–µ –∑–∞–Ω—è—Ç –¥—Ä—É–≥–∏–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º –∏–ª–∏ –ø—Ä–µ–¥—ã–¥—É—â–∏–º –∑–∞–ø—É—Å–∫–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
**–†–µ—à–µ–Ω–∏–µ:**
1. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ (1-2 –º–∏–Ω—É—Ç—ã)
2. –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ persists, –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å –≤ Amvera
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `REDIS_URL` —É–¥–∞–ª–µ–Ω (–æ–Ω –≤—ã–∑—ã–≤–∞–µ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
4. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–ª—É—à–∞–µ—Ç –Ω–∞ `0.0.0.0` –≤ production –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö

#### ‚ùå –í –ª–æ–≥–∞—Ö: "BACKEND_URL=undefined"
**–ü—Ä–∏—á–∏–Ω–∞:** –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤—å—Ç–µ `BACKEND_URL=https://kucoinbot-backend-alex69288.amvera.io`

#### ‚ùå –í –ª–æ–≥–∞—Ö: "Failed to start server: Error: listen EADDRINUSE"
**–ü—Ä–∏—á–∏–Ω–∞:** –ü–æ—Ä—Ç —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥—Ä—É–≥–∏–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º –∏–ª–∏ –ø—Ä–µ–¥—ã–¥—É—â–∏–º –∏–Ω—Å—Ç–∞–Ω—Å–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
**–†–µ—à–µ–Ω–∏–µ:**
1. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ (1-2 –º–∏–Ω—É—Ç—ã)
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å –≤ Amvera
3. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–ª—É—à–∞–µ—Ç –Ω–∞ `0.0.0.0` –≤ production –¥–ª—è —Ä–∞–±–æ—Ç—ã –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö
4. –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ persists, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—É—Å–∫–æ–≤

#### ‚ùå –í –ª–æ–≥–∞—Ö: "error: [polling_error] {"code":"ETELEGRAM","message":"ETELEGRAM: 409 Conflict: terminated by setWebhook request"}"
**–ü—Ä–∏—á–∏–Ω–∞:** –ë–æ—Ç –ø—ã—Ç–∞–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å polling, –Ω–æ webhook —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
**–†–µ—à–µ–Ω–∏–µ:**
1. –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç webhook
2. –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ `NODE_ENV=production`
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `BACKEND_URL` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ

## üê≥ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —Å Docker

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å –ø–æ—Ä—Ç–∞–º–∏ –≤ Amvera Cloud, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Docker –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∏–ª–∏ —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è.

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Docker –∏ Docker Compose —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- –ú–∏–Ω–∏–º—É–º 2GB RAM, 2 CPU cores
- –ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π `.env` —Ñ–∞–π–ª (—É–∂–µ —Å–æ–∑–¥–∞–Ω –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞)

### –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

1. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ .env —Ñ–∞–π–ª –Ω–∞—Å—Ç—Ä–æ–µ–Ω:**
   ```env
   # Server Configuration
   PORT=8080
   BACKEND_URL=http://localhost:8080
   FRONTEND_URL=http://localhost

   # KuCoin API Keys
   KUCOIN_API_KEY=–≤–∞—à_–∫–ª—é—á_kucoin
   KUCOIN_API_SECRET=–≤–∞—à_—Å–µ–∫—Ä–µ—Ç_kucoin
   KUCOIN_API_PASSPHRASE=–≤–∞—à_–ø–∞—Ä–æ–ª—å_kucoin

   # Telegram Bot Configuration
   TELEGRAM_BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞
   TELEGRAM_CHAT_ID=–≤–∞—à_chat_id
   WEBAPP_URL=http://localhost

   # Redis Configuration
   REDIS_URL=redis://redis:6379

   # Environment
   NODE_ENV=production
   ```

2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã:**
   ```bash
   docker-compose up -d
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å:**
   ```bash
   docker-compose ps
   ```

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
   ```bash
   docker-compose logs -f backend
   docker-compose logs -f frontend
   ```

### –î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–∏—Å–∞–º
- **Frontend (React SPA):** http://localhost
- **Backend API:** http://localhost:8080
- **Backend Health Check:** http://localhost:8080/health
- **Redis:** localhost:6379 (–≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤, –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑–≤–Ω–µ)

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞–º–∏
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose down

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ
docker-compose up --build -d

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose logs -f

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
docker-compose logs -f backend
docker-compose logs -f frontend
docker-compose logs -f redis

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å–µ—Ä–≤–∏—Å
docker-compose restart backend

# –û—á–∏—Å—Ç–∏—Ç—å volumes (–¥–∞–Ω–Ω—ã–µ Redis –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã!)
docker-compose down -v
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
- **redis:** Redis —Å –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å—é –¥–∞–Ω–Ω—ã—Ö (`redis_data` volume)
- **backend:** Node.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–ø–æ—Ä—Ç 8080) —Å health checks
- **frontend:** Nginx —Å React SPA (–ø–æ—Ä—Ç 80) —Å health checks

### Health Checks
–í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∏–º–µ—é—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ health checks:
- Redis: –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥
- Backend: HTTP –∑–∞–ø—Ä–æ—Å –∫ `/health` –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
- Frontend: HTTP –∑–∞–ø—Ä–æ—Å –∫ –∫–æ—Ä–Ω—é –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Docker —Å–µ—Ä–≤–∏—Å–æ–≤
- **redis:** Redis —Å –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å—é –¥–∞–Ω–Ω—ã—Ö
- **backend:** Node.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –ø–æ—Ä—Ç—É 8080
- **frontend:** React SPA –Ω–∞ –ø–æ—Ä—Ç—É 80 (Nginx)

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram –±–æ—Ç–∞
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Web App URL: `http://your-server-ip` (–∏–ª–∏ –¥–æ–º–µ–Ω)
- –î–ª—è HTTPS –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ reverse proxy (nginx, traefik, etc.)

### –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

#### –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ/VPS:
1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Docker –∏ Docker Compose:**
   ```bash
   # Ubuntu/Debian
   sudo apt update
   sudo apt install docker.io docker-compose
   sudo systemctl enable docker
   sudo systemctl start docker
   ```

2. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
   ```bash
   git clone https://github.com/alex69288/KuCoinBotV5.git
   cd KuCoinBotV5WEBAPP
   ```

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ .env —Ñ–∞–π–ª:**
   - –ò–∑–º–µ–Ω–∏—Ç–µ URLs –Ω–∞ –≤–∞—à –¥–æ–º–µ–Ω/IP
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–µ API –∫–ª—é—á–∏

4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã:**
   ```bash
   docker-compose up -d
   ```

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–º–µ–Ω–∞ –∏ HTTPS:
1. **–ü–æ–ª—É—á–∏—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç** (Let's Encrypt):
   ```bash
   sudo apt install certbot
   sudo certbot certonly --standalone -d yourdomain.com
   ```

2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ Nginx reverse proxy** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
   ```nginx
   server {
       listen 443 ssl;
       server_name yourdomain.com;
       
       ssl_certificate /etc/letsencrypt/live/yourdomain.com/fullchain.pem;
       ssl_certificate_key /etc/letsencrypt/live/yourdomain.com/privkey.pem;
       
       location / {
           proxy_pass http://localhost;
           proxy_set_header Host $host;
           proxy_set_header X-Real-IP $remote_addr;
       }
       
       location /api {
           proxy_pass http://localhost:8080;
           proxy_set_header Host $host;
           proxy_set_header X-Real-IP $remote_addr;
       }
   }
   ```

3. **–û–±–Ω–æ–≤–∏—Ç–µ .env —Ñ–∞–π–ª:**
   ```env
   FRONTEND_URL=https://yourdomain.com
   BACKEND_URL=https://yourdomain.com
   WEBAPP_URL=https://yourdomain.com
   ```

#### Firewall –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
```bash
# –†–∞–∑—Ä–µ—à–∏—Ç—å —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ—Ä—Ç—ã
sudo ufw allow 22    # SSH
sudo ufw allow 80    # HTTP
sudo ufw allow 443   # HTTPS
sudo ufw --force enable
```

#### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:
```bash
# –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose ps

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
docker stats

# –õ–æ–≥–∏ —Å —Ñ–∏–ª—å—Ç—Ä–æ–º –æ—à–∏–±–æ–∫
docker-compose logs -f | grep -i error
```

## üê≥ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —Å Docker –Ω–∞ Amvera Cloud

–ï—Å–ª–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ç–∏–ø—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π Amvera –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Docker —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ.

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤

#### Redis —Å–µ—Ä–≤–∏—Å
1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
   - **–¢–∏–ø:** Docker
   - **–ò–º—è:** `kucoinbot-redis-docker`
   - **–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** –í–∞—à GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
   - **–ü—É—Ç—å:** `redis/`
2. Amvera –æ–±–Ω–∞—Ä—É–∂–∏—Ç `amvera.yaml` –∏ `Dockerfile`

#### Backend —Å–µ—Ä–≤–∏—Å
1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
   - **–¢–∏–ø:** Docker
   - **–ò–º—è:** `kucoinbot-backend-docker`
   - **–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** –í–∞—à GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
   - **–ü—É—Ç—å:** `backend/`
2. Amvera –æ–±–Ω–∞—Ä—É–∂–∏—Ç `amvera-docker.yaml` –∏ `Dockerfile`

#### Frontend —Å–µ—Ä–≤–∏—Å
1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
   - **–¢–∏–ø:** Docker
   - **–ò–º—è:** `kucoinbot-frontend-docker`
   - **–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** –í–∞—à GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
   - **–ü—É—Ç—å:** `frontend/`
2. Amvera –æ–±–Ω–∞—Ä—É–∂–∏—Ç `amvera-docker.yaml` –∏ `Dockerfile`

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

#### Backend (kucoinbot-backend-docker)
```
KUCOIN_API_KEY=–≤–∞—à_–∫–ª—é—á_kucoin
KUCOIN_API_SECRET=–≤–∞—à_—Å–µ–∫—Ä–µ—Ç_kucoin
KUCOIN_API_PASSPHRASE=–≤–∞—à_–ø–∞—Ä–æ–ª—å_kucoin
TELEGRAM_BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞
FRONTEND_URL=https://kucoinbot-frontend-docker.amvera.io
BACKEND_URL=https://kucoinbot-backend-docker.amvera.io
NODE_ENV=production
PORT=8080
REDIS_URL=redis://kucoinbot-redis-docker.amvera.io:6379
```

#### Frontend (kucoinbot-frontend-docker)
```
VITE_API_URL=https://kucoinbot-backend-docker.amvera.io/api
```

### –®–∞–≥ 3: –ü–æ—Ä—è–¥–æ–∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

1. **–°–Ω–∞—á–∞–ª–∞ Redis** ‚Üí –¥–æ–∂–¥–∏—Ç–µ—Å—å –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
2. **–ó–∞—Ç–µ–º Backend** ‚Üí –¥–æ–∂–¥–∏—Ç–µ—Å—å —Å–±–æ—Ä–∫–∏ –∏ –∑–∞–ø—É—Å–∫–∞
3. **–ù–∞–∫–æ–Ω–µ—Ü Frontend** ‚Üí –¥–æ–∂–¥–∏—Ç–µ—Å—å —Å–±–æ—Ä–∫–∏

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

- **Redis:** –î–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è backend —Å–µ—Ä–≤–∏—Å–∞
- **Backend:** https://kucoinbot-backend-docker.amvera.io/health
- **Frontend:** https://kucoinbot-frontend-docker.amvera.io

### –®–∞–≥ 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram –±–æ—Ç–∞

–í BotFather —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ:
- **Web App URL:** `https://kucoinbot-frontend-docker.amvera.io`

### ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

- **Redis URL:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π URL Amvera –¥–ª—è Redis
- **–ü–æ—Ä—Ç—ã:** Docker –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ Amvera –º–æ–≥—É—Ç –∏–º–µ—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ –ø–æ—Ä—Ç—ã
- **Persistence:** Redis –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `/data` volume
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ö–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ

### üîß Troubleshooting

**–ï—Å–ª–∏ Redis –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å Redis —Å–µ—Ä–≤–∏—Å–∞
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `REDIS_URL` —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ö–æ—Å—Ç

**–ï—Å–ª–∏ backend –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Redis
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

**–ï—Å–ª–∏ frontend –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `VITE_API_URL` - –æ–Ω –¥–æ–ª–∂–µ–Ω —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ backend